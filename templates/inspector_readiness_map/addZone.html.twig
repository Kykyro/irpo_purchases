{% extends 'default/base.html.twig' %}

{% block content %}


    <div class="row mt-3">
        <div class="col-lg-10 offset-lg-1 договоmb-2">
            <div class="ibox collapsed border-bottom">
                <a class="collapse-link">
                    <div class="ibox-title">
                        <h5>
                            Добавить адресс
                        </h5>
                        <div class="ibox-tools">
                            <i class="fa fa-chevron-down"></i>
                        </div>
                    </div>
                </a>
                {{ form_start(form) }}
                <div class="ibox-content" style="display: block;">
                    {{ form_row(form.type) }}
                </div>
                <div class="ibox-content" style="display: block;">
                    {{ form_row(form.name) }}
                </div>
                <div class="ibox-content" id="checkbox-row" style="display: block;">
                    {{ form_widget(form.doNotTake) }}
                    <label>НЕ считать как зону</label>
                </div>
                <div class="ibox-footer">
                    {{ form_row(form.submit) }}

                </div>
                {{ form_end(form) }}
            </div>
        </div>
    </div>
{% endblock %}

{% block scripts %}
    <script src="{{ asset('js/popper.min.js') }}"></script>
    <script src="{{ asset('js/inspinia.js') }}"></script>
    <script>
        $(document).ready(function(){
            let typeInput = $('#add_zone_form_type');
            let nameInput = $('#add_zone_form_name');
            let doNotTake = $('#add_zone_form_doNotTake');
            let checkboxRow = $('#checkbox-row');

            function typeChange() {
                let value = typeInput.val();
                if(value == 5 )
                {

                    checkboxRow.show();
                    // nameInput.val('');
                }
                else {
                    nameInput.val($( "#add_zone_form_type option:selected" ).text());
                    doNotTake.prop('checked', false);
                    checkboxRow.hide();
                }
            }
            typeInput.change(typeChange);
            typeChange();
        });
    </script>
{% endblock %}